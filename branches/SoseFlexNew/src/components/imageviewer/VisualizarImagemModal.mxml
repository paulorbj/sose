<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:mx="library://ns.adobe.com/flex/mx"
				title="Visualizar imagem do componente" 
				xmlns:componentes="components.*" 
				xmlns:fileupload="components.fileupload.*"
				xmlns:imageviewer="components.imageviewer.*"
				showCloseButton="true"
				close="close()"
				mouseDownOutside="close()"
				initialize="addListeners()"
				creationPolicy="all" width="600" height="400"
				xmlns:s="library://ns.adobe.com/flex/spark">
	
	<fx:Declarations>
		
		
	</fx:Declarations>
	
	
	<fx:Script>
		<![CDATA[		
			import entities.recebimento.OrdemServico;
			
			import mx.core.FlexGlobals;
			import mx.managers.PopUpManager;
			
			[Bindable]
			private var _idObjeto:Number;
			
			[Bindable]
			public var tipoEntidade:String;
			
			[Bindable]
			public var callbackFunction:Function;
			
			private function addListeners():void
			{
				FlexGlobals.topLevelApplication.systemManager.addEventListener(KeyboardEvent.KEY_DOWN, keyDownListener);
			}
			
			private function keyDownListener (e:KeyboardEvent):void {
				if (e.keyCode == Keyboard.ESCAPE) {
					close();
				}
			}
			
						
			private function close():void
			{
				PopUpManager.removePopUp(this);
			}

			
			public function get idObjeto():Number
			{
				return _idObjeto;
			}

			public function set idObjeto(value:Number):void
			{
				_idObjeto = value;
				visualizadoImagem.recarregarImagens();
			}
			
			
			
		]]>
	</fx:Script>
	
	<mx:HBox horizontalAlign="center" verticalAlign="bottom" width="100%" height="100%" creationPolicy="all">
		<imageviewer:ImageCarousel width="400" widthComponente="400" id="visualizadoImagem" idEntidade="{_idObjeto}" tipoEntidade="COMPONENTE"/>
	</mx:HBox>
	
	
	
</mx:TitleWindow>
